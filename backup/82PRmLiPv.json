{"_id":"note:82PRmLiPv","title":"AWS Notes","content":"Install HTTP webserver on EC2\n\n```\nsudo su   -> Enter super user mode\nyum update -y  -> Do a system update, -y flags accepts all installation\nyum install httpd  -> install an apache server\nsystemctl start httpd  -> start apache server\nsystemctl enable httpd -> allow us to communicate with http server\necho \"Hello World\" > /var/www/html/index.html\n \n//cmd to get details instance inside EC2\ncurl http://169.254.169.254/latest/meta-data ->//Important asked in exams the url\ncurl http://169.254.169.254/latest/meta-data/ami-id\ncurl http://169.254.169.254/latest/meta-data/hostname\ncurl http://169.254.169.254/latest/meta-data/instance-id\ncurl http://169.254.169.254/latest/meta-data/instance-type\n \ncurl http://169.254.169.254/latest/dynamic\ncurl http://169.254.169.254/latest/dynamic/instance-identity\ncurl http://169.254.169.254/latest/dynamic/instance-identity/document\n \n```\n\n## Get dynamic details of instance..like account id,region etc\n```\n[root@ip-172-31-33-79 ec2-user]# curl http://169.254.169.254/latest/dynamic/instance-identity/document\n{\n  \"accountId\" : \"273700281035\",\n  \"architecture\" : \"x86_64\",\n  \"availabilityZone\" : \"ap-south-1a\",\n  \"billingProducts\" : null,\n  \"devpayProductCodes\" : null,\n  \"marketplaceProductCodes\" : null,\n  \"imageId\" : \"ami-09a7bbd08886aafdf\",\n  \"instanceId\" : \"i-0eb53e4c47df6e83b\",\n  \"instanceType\" : \"t2.micro\",\n  \"kernelId\" : null,\n  \"pendingTime\" : \"2020-09-13T07:10:55Z\",\n  \"privateIp\" : \"172.31.33.79\",\n  \"ramdiskId\" : null,\n  \"region\" : \"ap-south-1\",\n  \"version\" : \"2017-09-30\"\n}[root@ip-172-31-33-79 ec2-user]# \n```\n\n## Modify the default Apache test page\n\npwd-> /home/ec2-user\nThe Apache server uses by default the location /var/www/html  to get html file similar to xampp\n```\necho \"Hello World\" > /var/www/html/index.html\necho \"Getting started with AWS $(hostname)\" > /var/www/html/index.html\ncurl -s http://169.254.169.254/latest/dynamic/instance-identity/document > /var/www/html/index.html\n```\n\nBy default if you ping Public IP from your machine, it gets timed out.\nhenc you need to add ICMP IPV4 in INbound rules of security grp.\n","tags":[],"folderPathname":"/","data":{},"createdAt":"2020-09-13T07:24:24.384Z","updatedAt":"2020-09-13T15:44:36.459Z","trashed":false,"_rev":"-4Q1cutCB"}